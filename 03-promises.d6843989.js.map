{"mappings":"kjBAGMA,EAASC,SAASC,cAAc,SAClCC,EAAkB,KACtBH,EAAOI,iBAAiB,UAExB,SAAkBC,GAChBA,EAAEC,iBACe,IAAIC,SAASF,EAAEG,eACvBC,SAAQ,SAACC,EAAGC,GACnBC,EAASD,GAAKD,C,IAEhBG,YAAW,WACTC,IACAX,EAAkBY,YAAYD,EAAeF,EAASI,MACtDJ,EAASK,UAAYC,OAAON,EAASO,M,GACpCP,EAASO,M,IAXd,IAAMP,EAAW,GAajB,IASIQ,EAAiB,EACfN,EAAgB,WACpB,GAAII,OAAON,EAASS,UAAYD,EAI9B,OAHAE,cAAcnB,GACdiB,EAAiB,OACjBR,EAASK,UAAY,GAGvBG,GAAkB,EAhBX,IAAIG,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,IAEpCH,IAEFC,G,IAYUG,KAAKC,GAAQC,MAAMC,GACR,IAAnBX,IACFR,EAASK,WAAaC,OAAON,EAASI,M,EAG1C,SAASa,IACPG,EAAAC,GAASC,OAAOC,QACd,uBAA8CC,OAArBhB,EAAe,QAAyBgB,OAAnBxB,EAASK,UAAU,MAC/D,CACAoB,QAAS,K,CAIf,SAASN,IACPC,EAAAC,GAASC,OAAOI,QACd,sBAA2CF,OAArBhB,EAAe,QAAyBgB,OAAnBxB,EAASK,UAAU,MAC9D,CACEoB,QAAS,K","sources":["src/js/03-promises.js"],"sourcesContent":["import 'notiflix/dist/notiflix-3.2.6.min.css';\nimport Notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\nlet spacingVariable = null;\nformEl.addEventListener('submit', onSubmit);\nconst userData = {};\nfunction onSubmit(e) {\n  e.preventDefault();\n  const formData = new FormData(e.currentTarget);\n  formData.forEach((a, b) => {\n    userData[b] = a;\n  });\n  setTimeout(() => {\n    onPromiseCall();\n    spacingVariable = setInterval(onPromiseCall, userData.step);\n    userData.delayTime = Number(userData.delay);\n  }, userData.delay);\n}\nconst onPromise = () => {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.4;\n    if (shouldResolve) {\n      resolve();\n    }\n    reject();\n  });\n};\nlet promiseCounter = 0;\nconst onPromiseCall = () => {\n  if (Number(userData.amount) === promiseCounter) {\n    clearInterval(spacingVariable);\n    promiseCounter = 0;\n    userData.delayTime = 0;\n    return;\n  }\n  promiseCounter += 1;\n  onPromise().then(onThen).catch(onCatch);\n  if (promiseCounter !== 1) {\n    userData.delayTime += Number(userData.step);\n  }\n};\nfunction onThen() {\n  Notiflix.Notify.success(\n    `✅ Fulfilled promise ${promiseCounter} in ${userData.delayTime}ms`,\n    {\n      timeout: 6000,\n    }\n  );\n}\nfunction onCatch() {\n  Notiflix.Notify.failure(\n    `❌ Rejected promise ${promiseCounter} in ${userData.delayTime}ms`,\n    {\n      timeout: 6000,\n    }\n  );\n}\n"],"names":["$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$spacingVariable","addEventListener","e","preventDefault","FormData","currentTarget","forEach","a","b","$ce04d3a99e08e73b$var$userData","setTimeout","$ce04d3a99e08e73b$var$onPromiseCall","setInterval","step","delayTime","Number","delay","$ce04d3a99e08e73b$var$promiseCounter","amount","clearInterval","Promise","resolve","reject","Math","random","then","$ce04d3a99e08e73b$var$onThen","catch","$ce04d3a99e08e73b$var$onCatch","$parcel$interopDefault","$6JpON","Notify","success","concat","timeout","failure"],"version":3,"file":"03-promises.d6843989.js.map"}