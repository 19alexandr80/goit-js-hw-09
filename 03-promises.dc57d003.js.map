{"mappings":"siBAGA,MAAMA,EAASC,SAASC,cAAc,SACtC,IAAIC,EAAkB,KACtBH,EAAOI,iBAAiB,UAExB,SAAkBC,GAChBA,EAAEC,iBACe,IAAIC,SAASF,EAAEG,eACvBC,SAAQ,CAACC,EAAGC,KACnBC,EAASD,GAAKD,CAAC,IAEjBG,YAAW,KACTV,EAAkBW,YAAYC,EAAeH,EAASI,MACtDJ,EAASK,UAAYC,OAAON,EAASO,MAAM,GAC1CP,EAASO,M,IAVd,MAAMP,EAAW,GAqBjB,IAAIQ,EAAiB,EACrB,MAAML,EAAgB,KACpB,GAAIG,OAAON,EAASS,UAAYD,EAI9B,OAHAE,cAAcnB,GACdiB,EAAiB,OACjBR,EAASK,UAAY,GAGvBG,GAAkB,EAhBX,IAAIG,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,IAEpCH,IAEFC,GAAQ,IAYEG,KAAKC,GAAQC,MAAMC,GACR,IAAnBX,IACFR,EAASK,WAAaC,OAAON,EAASI,MAAK,EAG/C,SAASa,IACPG,EAAAC,GAASC,OAAOC,QACd,uBAAqBf,QAAuBR,EAAEK,cAAsB,CAElEmB,QAAS,K,CAIf,SAASL,IACPC,EAAAC,GAASC,OAAOG,QACd,sBAAoBjB,QAAqBR,EAAEK,cAAsB,CAE/DmB,QAAS,K","sources":["src/js/03-promises.js"],"sourcesContent":["import 'notiflix/dist/notiflix-3.2.6.min.css';\nimport Notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\nlet spacingVariable = null;\nformEl.addEventListener('submit', onSubmit);\nconst userData = {};\nfunction onSubmit(e) {\n  e.preventDefault();\n  const formData = new FormData(e.currentTarget);\n  formData.forEach((a, b) => {\n    userData[b] = a;\n  });\n  setTimeout(() => {\n    spacingVariable = setInterval(onPromiseCall, userData.step);\n    userData.delayTime = Number(userData.delay);\n  }, userData.delay);\n}\nconst onPromise = () => {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.4;\n    if (shouldResolve) {\n      resolve();\n    }\n    reject();\n  });\n};\nlet promiseCounter = 0;\nconst onPromiseCall = () => {\n  if (Number(userData.amount) === promiseCounter) {\n    clearInterval(spacingVariable);\n    promiseCounter = 0;\n    userData.delayTime = 0;\n    return;\n  }\n  promiseCounter += 1;\n  onPromise().then(onThen).catch(onCatch);\n  if (promiseCounter !== 1) {\n    userData.delayTime += Number(userData.step);\n  }\n};\nfunction onThen() {\n  Notiflix.Notify.success(\n    `✅ Fulfilled promise ${promiseCounter} in ${userData.delayTime}ms`,\n    {\n      timeout: 6000,\n    }\n  );\n}\nfunction onCatch() {\n  Notiflix.Notify.failure(\n    `❌ Rejected promise ${promiseCounter} in ${userData.delayTime}ms`,\n    {\n      timeout: 6000,\n    }\n  );\n}\n"],"names":["$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$spacingVariable","addEventListener","e","preventDefault","FormData","currentTarget","forEach","a","b","$47d4ff9957288465$var$userData","setTimeout","setInterval","$47d4ff9957288465$var$onPromiseCall","step","delayTime","Number","delay","$47d4ff9957288465$var$promiseCounter","amount","clearInterval","Promise","resolve","reject","Math","random","then","$47d4ff9957288465$var$onThen","catch","$47d4ff9957288465$var$onCatch","$parcel$interopDefault","$7Y9D8","Notify","success","timeout","failure"],"version":3,"file":"03-promises.dc57d003.js.map"}