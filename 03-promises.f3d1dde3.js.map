{"mappings":"kjBAGMA,EAASC,SAASC,cAAc,SAClCC,EAAO,KACXH,EAAOI,iBAAiB,UAExB,SAAkBC,GAChBA,EAAEC,iBACe,IAAIC,SAASF,EAAEG,eACvBC,SAAQ,SAACC,EAAGC,GACnBC,EAAID,GAAKD,C,IAEXG,YAAW,WACTV,EAAOW,YAAYC,EAAOH,EAAII,MAC9BJ,EAAIK,QAAUL,EAAIM,K,GACjBN,EAAIM,M,IAVT,IAAMN,EAAM,GAYZ,IASIO,EAAM,EACJJ,EAAQ,WACZ,IAAKH,EAAIQ,SAAWD,EAIlB,OAHAE,cAAclB,GACdgB,EAAM,OACNP,EAAIK,OAAS,GAGfE,GAAO,EAhBA,IAAIG,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,IAEpCH,IAEFC,G,IAYUG,KAAKC,GAAQC,MAAMC,GACnB,IAARX,IACFP,EAAIK,SAAWL,EAAII,K,EAGvB,SAASY,IACPG,EAAAC,GAASC,OAAOC,QAAQ,uBAAmCC,OAAVhB,EAAI,QAAiBgB,OAAXvB,EAAIK,OAAO,MAAK,CACvEmB,QAAO,K,CAGb,SAASN,IACPC,EAAAC,GAASC,OAAOI,QAAQ,sBAAgCF,OAAVhB,EAAI,QAAiBgB,OAAXvB,EAAIK,OAAO,MAAK,CACtEmB,QAAS,K","sources":["src/js/03-promises.js"],"sourcesContent":["import 'notiflix/dist/notiflix-3.2.6.min.css';\nimport Notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\nlet weer = null;\nformEl.addEventListener('submit', onSubmit);\nconst con = {};\nfunction onSubmit(e) {\n  e.preventDefault();\n  const formData = new FormData(e.currentTarget);\n  formData.forEach((a, b) => {\n    con[b] = a;\n  });\n  setTimeout(() => {\n    weer = setInterval(promm, con.step);\n    con.amaund = +con.delay;\n  }, con.delay);\n}\nconst onPromise = () => {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.4;\n    if (shouldResolve) {\n      resolve();\n    }\n    reject();\n  });\n};\nlet amm = 0;\nconst promm = () => {\n  if (+con.amount === amm) {\n    clearInterval(weer);\n    amm = 0;\n    con.amaund = 0;\n    return;\n  }\n  amm += 1;\n  onPromise().then(onThen).catch(onCatch);\n  if (amm !== 1) {\n    con.amaund += +con.step;\n  }\n};\nfunction onThen() {\n  Notiflix.Notify.success(`✅ Fulfilled promise ${amm} in ${con.amaund}ms`, {\n    timeout: 6000,\n  });\n}\nfunction onCatch() {\n  Notiflix.Notify.failure(`❌ Rejected promise ${amm} in ${con.amaund}ms`, {\n    timeout: 6000,\n  });\n}\n"],"names":["$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$weer","addEventListener","e","preventDefault","FormData","currentTarget","forEach","a","b","$ce04d3a99e08e73b$var$con","setTimeout","setInterval","$ce04d3a99e08e73b$var$promm","step","amaund","delay","$ce04d3a99e08e73b$var$amm","amount","clearInterval","Promise","resolve","reject","Math","random","then","$ce04d3a99e08e73b$var$onThen","catch","$ce04d3a99e08e73b$var$onCatch","$parcel$interopDefault","$6JpON","Notify","success","concat","timeout","failure"],"version":3,"file":"03-promises.f3d1dde3.js.map"}